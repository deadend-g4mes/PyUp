"""
PyUp
=====

an easy to use python library for integrating LifeUp into your projects.
"""
import os
from pyup import PyUp
import general
import task

__all__ = ["task", "general", "PyUp",]
__version__ = "0.0.1"

class ModuleClient(PyUp):
    
    def host(self) -> str | None:
        return host
    
    def host(self, value: str | None) -> None:
        global host

        host = value

    def port(self) -> str | None:
        return port
    
    def port(self, value: str | None) -> None:
        global port

        port = value


_client: PyUp | None = None

def _load_client() -> PyUp:
    global _client
    if _client is None:
        global host, port

        if host is None:
            host = os.environ.get('HOST')
        
        if port is None:
           port = os.environ.get('PORT')
        
        _client = ModuleClient(PyUp)
        return _client
    return _client